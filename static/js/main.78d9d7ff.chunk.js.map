{"version":3,"sources":["components/Users/users.module.css","assets/images/Circle-Loading.svg","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/PostWithTS.module.css","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","redux/dialogs-reducer.ts","api/api.js","redux/profile-reducer.ts","utuls/object-helpers.js","redux/users-reducer.ts","redux/auth-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","components/Navbar/Navbar.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","utuls/validators/validators.js","components/Common/FormsControl/FormsControls.js","components/Dialogs/Dialogs.jsx","components/hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/Common/Paginator/Paginator.tsx","components/Users/User.jsx","components/Users/Users.tsx","components/Common/Preloader/Preloader.js","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileBlockInfoEdit.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/PostWithTS.tsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/Common/FormsControl/FormsControls.module.css","components/Common/Paginator/Paginator.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css"],"names":["module","exports","userPhoto","__webpack_require__","p","posts","item","nav","active","dialogs","dialogItems","dialog","messages","message","initialState","dialogData","id","name","messageData","newMessageBody","instance","axios","withCredentials","baseURL","headers","API-KEY","usersAPI","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","follow","userId","post","unFollow","delete","profileAPI","status","put","photoFile","formData","FormData","append","Content-Type","profile","authAPI","email","password","rememberMe","captcha","securityAPI","postData","likecount","setStatus","type","getUserProfile","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","wrap","_context","prev","next","sent","stop","_x","apply","this","updateObjectInArray","items","itemId","objPropName","newObjProps","map","m","objectSpread2","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unFollowSuccess","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","_ref2","_callee2","apiMethod","actionCreator","_context2","resultCode","_x2","_x3","_x4","_x5","login","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","_response$data$data","_login","logout","_ref3","_callee3","_context3","getCaptchaUrl","_ref4","_callee4","_context4","url","initialized","rootReducers","combineReducers","messagesPage","state","action","messageBody","toConsumableArray","profilePage","newPost","values","newPostText","photos","usersPage","followed","count","filter","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","___store___","Navbar","react_default","createElement","className","c","NavLink","to","activeClassName","DialogItem","props","path","Message","required","value","maxLengthCreator","maxLength","Element","input","_ref$meta","meta","touched","error","objectWithoutProperties","_excluded","hasError","styles","_Element","assign","Textarea","Input","createField","placeholder","validators","component","text","Field","validate","maxLength50","AddMessageFormRedux","reduxForm","onSubmit","handleSubmit","Dialogs","dialogElements","d","DialogItem_DialogItem","key","messageElements","Message_Message","sendMessage","mapStateToPropsForRedirect","connect","sendMessageAC","Component","RedirectComponent","_React$Component","inherits","_super","createSuper","classCallCheck","createClass","Redirect","React","Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","cn","defineProperty","selectedPage","pageNumber","e","User","user","User_excluded","src","small","disabled","some","Users","onClickPageChangedHandler","Users_excluded","Common_Paginator_Paginator","Users_User","Preloader","preloader","getUsersSelector","createSelector","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","_this","Fragment","Common_Preloader_Preloader","components_Users_Users","bind","_x6","_x7","page","getAPI","totalCount","ProfileStatusWithHooks","editMode","setEditMode","_useState3","_useState4","useEffect","style","color","fontSize","fontWeight","onDoubleClick","onChange","currentTarget","autoFocus","onBlur","updateStatus","ProfileBlockInfoEditReduxForm","console","log","formSummaryError","keys","contacts","ProfileInfo","isOwner","savePhoto","saveProfile","imageBack","large","description","target","files","ProfileStatusWithHooks_ProfileStatusWithHooks","ProfileInfo_ProfileBlockInfoEdit","initialValues","ProfileInfo_ProfileBlockInfo","goToEditMode","ProfileBlockInfo","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","ProfileInfo_Contact","contactTitle","contactValue","Contact","contact","href","PostWithTS","react","like","MyPosts","memo","postElement","reverse","PostWithTS_PostWithTS","AddPostFormRedux","addPost","newPostBody","maxLength10","MyPostsContainer","addPostAC","Profile","ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","match","params","authorizedUserId","history","getStatus","Profile_Profile","t0","file","_ref5","_callee5","getState","_context5","stopSubmit","_error","abrupt","Promise","reject","withRouter","Header","header","loginBlock","HeaderContainer","Header_Header","LoginReduxForm","App","catchAllUnhandledErrors","promiseRejectionEvent","initializeApp","addEventListener","removeEventListener","Header_HeaderContainer","Navbar_Navbar","Switch","Route","render","DialogsContainer","Profile_ProfileContainer","Users_UsersContainer","components_Login_Login","display","justifyContent","ReactDOM","HashRouter","react_redux_es","src_App_0","document","getElementById"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,UAAA,+CCDlBF,EAAAC,QAAiBE,EAAAC,EAAuB,gECCxCJ,EAAAC,QAAA,CAAkBI,MAAA,6CCAlBL,EAAAC,QAAA,CAAkBK,KAAA,oFCAlBN,EAAAC,QAAA,CAAkBM,IAAA,oBAAAC,OAAA,uBAAAF,KAAA,sFCAlBN,EAAAC,QAAA,CAAkBQ,QAAA,yBAAAC,YAAA,6BAAAF,OAAA,wBAAAG,OAAA,wBAAAC,SAAA,0BAAAC,QAAA,6FCmBdC,EAAe,CACfC,WAAY,CACR,CAACC,GAAI,EAAGC,KAAM,QACd,CAACD,GAAI,EAAGC,KAAM,OACd,CAACD,GAAI,EAAGC,KAAM,OACd,CAACD,GAAI,EAAGC,KAAM,OACd,CAACD,GAAI,EAAGC,KAAM,SAElBC,YAAa,CACT,CAACF,GAAI,EAAGH,QAAS,MACjB,CAACG,GAAI,EAAGH,QAAS,gBACjB,CAACG,GAAI,EAAGH,QAAS,UAErBM,eAAgB,4BC/BdC,SAAWC,OAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACLC,UAAW,0CAINC,EAAW,CACpBC,SADoB,WACoB,IAA/BC,EAA+BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjB,EAAGG,EAAcH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACjC,OAAOT,EAASa,IAAT,cAAAC,OAA2BN,EAA3B,WAAAM,OAAgDF,IAClDG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAEnCC,OALoB,SAKbC,GACH,OAAOnB,EAASoB,KAAT,UAAAN,OAAwBK,KAEnCE,SARoB,SAQXF,GACL,OAAOnB,EAASsB,OAAT,UAAAR,OAA0BK,MAG5BI,EAAa,SACXJ,GACP,OAAOnB,EAASa,IAAI,WAAaM,IAF5BI,EAAa,SAIZJ,GACN,OAAOnB,EAASa,IAAI,kBAAoBM,IALnCI,EAAa,SAOTC,GACT,OAAOxB,EAASyB,IAAT,kBAAgC,CAACD,OAAQA,KAR3CD,EAAa,SAUZG,GACN,IAAMC,EAAW,IAAIC,SAGrB,OAFAD,EAASE,OAAO,QAASH,GAElB1B,EAASyB,IAAT,gBAA8BE,EAAU,CAC3CvB,QAAS,CACL0B,eAAgB,0BAhBnBP,EAAa,SAoBVQ,GACR,OAAO/B,EAASyB,IAAT,UAAwBM,IAG1BC,EAAU,WAEf,OAAOhC,EAASa,IAAT,YAFFmB,EAAU,SAIbC,EAAOC,GAA8C,IAApCC,EAAoC1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAhB2B,EAAgB3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KACjD,OAAOT,EAASoB,KAAT,aAA4B,CAACa,QAAOC,WAAUC,aAAYC,aAL5DJ,EAAU,WAQf,OAAOhC,EAASsB,OAAT,eAIFe,EAAc,WAEnB,OAAOrC,EAASa,IAAT,qCChBXnB,EAAe,CACf4C,SAAU,CACN,CAAC1C,GAAI,IAAKH,QAAS,mBAAoB8C,UAAW,KAClD,CAAC3C,GAAI,IAAKH,QAAS,sBAAuB8C,UAAW,KACrD,CAAC3C,GAAI,IAAKH,QAAS,aAAc8C,UAAW,MAEhDR,QAAS,KACTP,OAAQ,IA4CNgB,EAAY,SAAChB,GAAD,MAAoC,CAACiB,KAzFpC,aAyFsDjB,WAI5DkB,EAAiB,SAACvB,GAAD,sBAAAwB,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAoB,SAAAC,EAAOC,GAAP,IAAAlC,EAAA,OAAA8B,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACvB/B,EAAsBJ,GADC,OACxCH,EADwCoC,EAAAG,KAE9CL,EAPkE,CAACT,KAzF9C,mBAyFsEV,QAOnEf,EAASC,OAFa,wBAAAmC,EAAAI,SAAAP,MAApB,gBAAAQ,GAAA,OAAAd,EAAAe,MAAAC,KAAAlD,YAAA,ICnGjBmD,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,IAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZlB,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GAAIsB,GAAMF,GAEdE,KC4BXxE,EAAe,CACf0E,MAAO,GACPxD,SAAU,EACVyD,gBAAiB,EACjB7D,YAAa,EACb8D,YAAY,EACZC,oBAAqB,IA4CZC,EAAgB,SAACrD,GAAD,MAAwC,CAACsB,KA/EhD,gBA+EqEtB,WAC9EsD,EAAkB,SAACtD,GAAD,MAA0C,CAACsB,KA/ElD,kBA+EyEtB,WAOpFuD,EAAmB,SAACJ,GAAD,MAAgD,CAAC7B,KAlFtD,qBAkFgF6B,eAC9FK,EAA4B,SAACL,EAAqBnD,GAAtB,MAAyE,CAC9GsB,KAnFiC,+BAoFjC6B,aACAnD,WAeEyD,EAAkB,eAAAC,EAAAjC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA8B,EAAO5B,EAAe/B,EAAa4D,EAAgBC,GAAnD,OAAAlC,EAAAC,EAAAI,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cACvBJ,EAASyB,GAA0B,EAAMxD,IADlB8D,EAAA3B,KAAA,EAEAyB,EAAU5D,GAFV,OAGU,IAHV8D,EAAA1B,KAGVtC,KAAKiE,YACdhC,EAAS8B,EAAc7D,IAE3B+B,EAASyB,GAA0B,EAAOxD,IANnB,wBAAA8D,EAAAzB,SAAAsB,MAAH,gBAAAK,EAAAC,EAAAC,EAAAC,GAAA,OAAAT,EAAAnB,MAAAC,KAAAlD,YAAA,GC1FpBf,EAAe,CACfE,GAAI,KACJqC,MAAO,KACPsD,MAAO,KACPC,QAAQ,EACRC,WAAY,MAkBHC,EAAkB,SAAC9F,EAAmBqC,EAAsBsD,EAAsBC,GAAhE,MAC3B,CAAC/C,KAzCiB,qBAyCIkD,QAAS,CAAC/F,KAAIqC,QAAOsD,QAAOC,YAEzCI,EAAuB,SAACH,GAAD,MAChC,CAAChD,KA3C2B,0BA2CIkD,QAAS,CAACF,gBAGjCI,EAAkB,iCAAAlD,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAM,SAAAC,EAAOC,GAAP,IAAAlC,EAAA8E,EAAAlG,EAAAmG,EAAA9D,EAAA,OAAAa,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACZtB,IADY,OAEA,KAD7BhB,EAD6BoC,EAAAG,MAEpBtC,KAAKiE,aAAkBY,EACP9E,EAASC,KAAKA,KAAlCrB,EAD2BkG,EAC3BlG,GAAI2F,EADuBO,EACvBP,MAAOtD,EADgB6D,EAChB7D,MAChBiB,EAASwC,EAAgB9F,EAAIqC,EAAOsD,GAAO,KAJd,wBAAAnC,EAAAI,SAAAP,MAAN,gBAAAQ,GAAA,OAAAd,EAAAe,MAAAC,KAAAlD,YAAA,IAqBlBuF,EAAS,iCAAAC,EAAArD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAM,SAAAkD,EAAOhD,GAAP,OAAAJ,EAAAC,EAAAI,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EACDtB,IADC,OAES,IAFTmE,EAAA5C,KAEXtC,KAAKiE,YACdhC,EAASwC,EAAgB,KAAM,KAAM,MAAM,IAHvB,wBAAAS,EAAA3C,SAAA0C,MAAN,gBAAAd,GAAA,OAAAa,EAAAvC,MAAAC,KAAAlD,YAAA,IAOT2F,EAAgB,iCAAAC,EAAAzD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAM,SAAAsD,EAAOpD,GAAP,IAAAlC,EAAAyE,EAAA,OAAA3C,EAAAC,EAAAI,KAAA,SAAAoD,GAAA,cAAAA,EAAAlD,KAAAkD,EAAAjD,MAAA,cAAAiD,EAAAjD,KAAA,EACRjB,IADQ,OACzBrB,EADyBuF,EAAAhD,KAEzBkC,EAAazE,EAASC,KAAKuF,IACjCtD,EAAS0C,EAAqBH,IAHC,wBAAAc,EAAA/C,SAAA8C,MAAN,gBAAAjB,GAAA,OAAAgB,EAAA3C,MAAAC,KAAAlD,YAAA,sBC/DzBf,EAA0B,CAC1B+G,aAAa,GCJbC,EAAeC,YAAgB,CAC/BC,aPuB0B,WAAgF,IAA/EC,EAA+EpG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtDf,EAAcoH,EAAwCrG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1G,OAAQmG,EAAOrE,MACX,IAjCa,eAkCT,IAAIsE,EAAcD,EAAO/G,eACzB,OAAO6C,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEI/G,YAAW,GAAAgB,OAAA8B,OAAAoE,EAAA,EAAApE,CAAMiE,EAAM/G,aAAZ,CAAyB,CAACF,GAAI,EAAGH,QAASsH,OAG7D,QACI,OAAOF,IOhCfI,YLwC0B,WAA2E,IAA1EJ,EAA0EpG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhDf,EAAcoH,EAAkCrG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrG,OAAQmG,EAAOrE,MACX,IApDS,WAqDL,IAAIyE,EAAU,CACVtH,GAAI,EACJH,QAASqH,EAAOK,OAChB5E,UAAW,GAEf,OAAOK,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEIvE,SAAQ,CAAG4E,GAAHpG,OAAA8B,OAAAoE,EAAA,EAAApE,CAAeiE,EAAMvE,WAC7B8E,YAAa,KAIrB,IAhEiB,mBAiEb,OAAOxE,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEI9E,QAAS+E,EAAO/E,UAGxB,IArEW,aAsEP,OAAOa,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEIrF,OAAQsF,EAAOtF,SAGvB,IA1EmB,qBA2Ef,OAAOoB,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEI9E,QAAQa,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GAAKiE,EAAM9E,SAAZ,IAAqBsF,OAAQP,EAAOO,WAGnD,QACI,OAAOR,IKzEfS,UH4BwB,WAAsD,IAArDT,EAAqDpG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bf,EAAcoH,EAAgBrG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9E,OAAQmG,EAAOrE,MACX,IAzCc,gBA0CV,OAAOG,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEIzC,MAAOR,EAAoBiD,EAAMzC,MAAO0C,EAAO3F,OAAQ,KAAM,CAACoG,UAAU,MAGhF,IA9CgB,kBA+CZ,OAAO3E,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEIzC,MAAOR,EAAoBiD,EAAMzC,MAAO0C,EAAO3F,OAAQ,KAAM,CAACoG,UAAU,MAGhF,IAnDU,YAoDN,OAAO3E,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GAAIiE,GAAX,IAAkBzC,MAAMxB,OAAAoE,EAAA,EAAApE,CAAKkE,EAAO1C,SAExC,IArDiB,mBAsDb,OAAOxB,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GAAIiE,GAAX,IAAkBrG,YAAasG,EAAOtG,cAE1C,IAvDsB,wBAwDlB,OAAOoC,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GAAIiE,GAAX,IAAkBxC,gBAAiByC,EAAOU,QAE9C,IAzDmB,qBA0Df,OAAO5E,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GAAIiE,GAAX,IAAkBvC,WAAYwC,EAAOxC,aAEzC,IA3D6B,+BA4DzB,OAAO1B,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IACctC,oBAAqBuC,EAAOxC,WAAP,GAAAxD,OAAA8B,OAAAoE,EAAA,EAAApE,CACvBiE,EAAMtC,qBADiB,CACIuC,EAAO3F,SACtC0F,EAAMtC,oBAAoBkD,OAAO,SAAA7H,GAAE,OAAIA,GAAMkH,EAAO3F,WAGhE,QACI,OAAO0F,IG7Dfa,KFYuB,WAA6D,IAA5Db,EAA4DpG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzCf,EAAcoH,EAA2BrG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpF,OAAQmG,EAAOrE,MACX,IA3Bc,qBA4Bd,IA3BwB,0BA4BpB,OAAOG,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GACAC,EAAOnB,SAIlB,QACI,OAAOkB,IEtBfc,KAAMC,IACNC,IDCsB,WAAyD,IAAxDhB,EAAwDpG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhDf,EAC/B,QAD+Ee,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAChE8B,MACX,IAlBoB,sBAmBhB,OAAOG,OAAAuB,EAAA,EAAAvB,QAAAuB,EAAA,EAAAvB,CAAA,GACAiE,GADP,IAEIJ,aAAa,IAGrB,QACI,OAAOI,MCNbiB,EAAmBC,OAAOC,sCAAwCC,IAEpEC,EAAQC,YAAYzB,EACtBoB,EAAiBM,YAAgBC,OAGnCN,OAAOO,YAAcJ,EACNA,wHCzBFK,GAAS,WAClB,OACIC,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAExJ,KACdqJ,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEzJ,MACdsJ,EAAAzF,EAAA0F,cAACG,GAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEvJ,QAA1C,YAIJoJ,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEzJ,MACdsJ,EAAAzF,EAAA0F,cAACG,GAAA,EAAD,CAASC,GAAG,SAASC,gBAAiBH,KAAEvJ,QAAxC,UAIJoJ,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEzJ,MACdsJ,EAAAzF,EAAA0F,cAACG,GAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEvJ,QAA1C,aAIJoJ,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEzJ,MACdsJ,EAAAzF,EAAA0F,cAAA,kBAIJD,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEzJ,MACdsJ,EAAAzF,EAAA0F,cAAA,kFCxBHM,GAAa,SAACC,GACvB,IAAIC,EAAO,YAAcD,EAAMpJ,GAC/B,OACI4I,EAAAzF,EAAA0F,cAAA,OAAKC,UAAS,GAAA5H,OAAK6H,KAAEpJ,OAAP,KAAAuB,OAAiB6H,KAAEvJ,SAC7BoJ,EAAAzF,EAAA0F,cAACG,GAAA,EAAD,CAASC,GAAII,GAAOD,EAAMnJ,QCLzBqJ,GAAU,SAACF,GACpB,OACIR,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAElJ,SAAUuJ,EAAMvJ,8BCL7B0J,GAAW,SAAAC,GACpB,IAAIA,EACJ,MAAO,iBAGEC,GAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,EAAM1I,OAAS4I,EAAW,uBAAAxI,OAAwBwI,EAAxB,+DCF5BC,GAAU,SAAAA,GAAO,OAAI,SAAA5G,GAA+C,IAA7C6G,EAA6C7G,EAA7C6G,MAA6CC,EAAA9G,EAAtC+G,KAAOC,EAA+BF,EAA/BE,QAASC,EAAsBH,EAAtBG,MAAWZ,EAAWpG,OAAAiH,GAAA,EAAAjH,CAAAD,EAAAmH,IAChEC,EAAWJ,GAAWC,EAC5B,OACIpB,EAAAzF,EAAA0F,cAAA,OAAKC,UAAYqB,EAAWC,KAAOJ,MAAQ,IACvCpB,EAAAzF,EAAA0F,cAACwB,EAADrH,OAAAsH,OAAA,GAAaV,EAAWR,IACvBe,GAAYvB,EAAAzF,EAAA0F,cAAA,gBAAQmB,EAAR,QAKZO,GAAWZ,GAAQ,YAEnBa,GAAQb,GAAQ,SAEhBc,GAAc,SAACC,EAAaC,EAAY1K,EAAM2K,GAAhC,IAA2CxB,EAA3CvI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmD,GAAIgK,EAAvDhK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8D,GAA9D,OAAsE+H,EAAAzF,EAAA0F,cAAA,WAC7FD,EAAAzF,EAAA0F,cAACiC,GAAA,EAAD9H,OAAAsH,OAAA,CAAOI,YAAaA,EAAaK,SAAUJ,EAAY1K,KAAMA,EAAM2K,UAAWA,GAAexB,IAC5FyB,ICSCG,GAAcvB,GAAiB,IAW/BwB,GAAsBC,aAAU,CAACnD,KAAM,wBAAjBmD,CATL,SAAC9B,GACpB,OACIR,EAAAzF,EAAA0F,cAAA,QAAMsC,SAAU/B,EAAMgC,cAClBxC,EAAAzF,EAAA0F,cAAA,WAAKD,EAAAzF,EAAA0F,cAACiC,GAAA,EAAD,CAAOF,UAAWL,GAAUQ,SAAU,CAACxB,GAAUyB,IAAc/K,KAAK,iBAAiByK,YAAY,wBACtG9B,EAAAzF,EAAA0F,cAAA,WAAKD,EAAAzF,EAAA0F,cAAA,kCAOFwC,GAlCC,SAACjC,GACb,IAAInC,EAAQmC,EAAMpC,aACdsE,EAAiBrE,EAAMlH,WAAWsE,IAAI,SAAAkH,GAAC,OAAI3C,EAAAzF,EAAA0F,cAAC2C,GAAD,CAAYvL,KAAMsL,EAAEtL,KAAMD,GAAIuL,EAAEvL,GAAIyL,IAAKF,EAAEvL,OACtF0L,EAAkBzE,EAAM/G,YAAYmE,IAAI,SAAAC,GAAC,OAAIsE,EAAAzF,EAAA0F,cAAC8C,GAAD,CAAS9L,QAASyE,EAAEzE,QAASG,GAAIsE,EAAEtE,GAAIyL,IAAKnH,EAAEtE,OAI/F,OACI4I,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEtJ,SACdmJ,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAErJ,aACb4L,GAEL1C,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEnJ,UACdgJ,EAAAzF,EAAA0F,cAAA,WAAM6C,GACN9C,EAAAzF,EAAA0F,cAACoC,GAAD,CAAqBE,SATf,SAAC5D,GAAU6B,EAAMwC,YAAYrE,EAAOpH,gCCTtD0L,GAA6B,SAAC5E,GAC9B,MAAO,CACHrB,OAAQqB,EAAMa,KAAKlC,SCcZyC,eACXyD,aAdkB,SAAC7E,GACnB,MAAO,CACHD,aAAeC,EAAMD,eAGJ,SAAC1D,GACtB,MAAO,CACHsI,YAAa,SAACzL,GACVmD,EfmCiB,SAACnD,GAAD,MAAgD,CAAC0C,KA7CzD,eA6C6E1C,kBenC7E4L,CAAc5L,QDLH,SAAC6L,GAAc,IACrCC,EADqC,SAAAC,GAAAlJ,OAAAmJ,EAAA,EAAAnJ,CAAAiJ,EAAAC,GAAA,IAAAE,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAiJ,GAAA,SAAAA,IAAA,OAAAjJ,OAAAsJ,EAAA,EAAAtJ,CAAAe,KAAAkI,GAAAG,EAAAtI,MAAAC,KAAAlD,WAAA,OAAAmC,OAAAuJ,EAAA,EAAAvJ,CAAAiJ,EAAA,EAAAR,IAAA,SAAAjC,MAEvC,WACI,OAAKzF,KAAKqF,MAAMxD,OAETgD,EAAAzF,EAAA0F,cAACmD,EAAcjI,KAAKqF,OAFIR,EAAAzF,EAAA0F,cAAC2D,GAAA,EAAD,CAAUvD,GAAI,eAHVgD,EAAA,CACXQ,IAAMT,WAUtC,OAFyCF,aAAQD,GAARC,CAAoCG,ICClE5D,CAGZgD,+DCoCYqB,GA/C0B,SAAA3J,GAWrC,IAL4C,IALF4J,EAKE5J,EALF4J,gBACA3L,EAIE+B,EAJF/B,SACAJ,EAGEmC,EAHFnC,YACAgM,EAEE7J,EAFF6J,cAEEC,EAAA9J,EADF+J,mBACE,IAAAD,EADY,GACZA,EAExCE,EAAaC,KAAKC,KAAKN,EAAkB3L,GAEzCkM,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAGf,IAAIE,EAAeL,KAAKC,KAAKF,EAAaD,GAC1CQ,EAAwCC,mBAAS,GAAjDC,EAAAxK,OAAAyK,GAAA,EAAAzK,CAAAsK,EAAA,GAAKI,EAALF,EAAA,GAAoBG,EAApBH,EAAA,GACII,GAAyBF,EAAgB,GAAKZ,EAAc,EAC5De,EAAyBH,EAAgBZ,EAG7C,OAAOlE,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWsB,KAAO0D,WACzBJ,EAAgB,GACjB9E,EAAAzF,EAAA0F,cAAA,UAAQkF,QAAS,WACbJ,EAAiBD,EAAgB,KADrC,QAICR,EACIrF,OAAO,SAAAzI,GAAC,OAAIA,GAAKwO,GAAyBxO,GAAKyO,IAC/CxJ,IAAI,SAACjF,GACF,OAAOwJ,EAAAzF,EAAA0F,cAAA,QAAMC,UAAWkF,KAAGhL,OAAAiL,GAAA,EAAAjL,CAAA,GACtBoH,KAAO8D,aAAetN,IAAgBxB,GACxCgL,KAAO+D,YACG1C,IAAKrM,EACL2O,QAAS,SAACK,GACNxB,EAAcxN,KACdA,KAExBiO,EAAeK,GAChB9E,EAAAzF,EAAA0F,cAAA,UAAQkF,QAAS,WACbJ,EAAiBD,EAAgB,KADrC,qFC/CKxO,GAAY,qnNAoCVmP,GAlCJ,SAAAtL,GAA6D,IAA3DuL,EAA2DvL,EAA3DuL,KAAM3J,EAAqD5B,EAArD4B,oBAAqBlD,EAAgCsB,EAAhCtB,SAAUH,EAAsByB,EAAtBzB,OAAsB0B,OAAAiH,GAAA,EAAAjH,CAAAD,EAAAwL,IACpE,OAAO3F,EAAAzF,EAAA0F,cAAA,WACCD,EAAAzF,EAAA0F,cAAA,YACID,EAAAzF,EAAA0F,cAAA,WACED,EAAAzF,EAAA0F,cAACG,GAAA,EAAD,CAASC,GAAI,YAAcqF,EAAKtO,IAC1B4I,EAAAzF,EAAA0F,cAAA,OACI2F,IAA0B,MAArBF,EAAK7G,OAAOgH,MAAgBH,EAAK7G,OAAOgH,MAAQvP,GACrD4J,UAAWsB,KAAOlL,cAG9B0J,EAAAzF,EAAA0F,cAAA,WACKyF,EAAK3G,SACFiB,EAAAzF,EAAA0F,cAAA,UAAQ6F,SAAU/J,EAAoBgK,KAAK,SAAA3O,GAAE,OAAIA,IAAOsO,EAAKtO,KACrD+N,QAAS,WACLtM,EAAS6M,EAAKtO,MAF1B,YAIA4I,EAAAzF,EAAA0F,cAAA,UAAQ6F,SAAU/J,EAAoBgK,KAAK,SAAA3O,GAAE,OAAIA,IAAOsO,EAAKtO,KACrD+N,QAAS,WACLzM,EAAOgN,EAAKtO,MAFxB,YAMhB4I,EAAAzF,EAAA0F,cAAA,YACQD,EAAAzF,EAAA0F,cAAA,YACID,EAAAzF,EAAA0F,cAAA,WAAMyF,EAAKrO,MACX2I,EAAAzF,EAAA0F,cAAA,WAAMyF,EAAK1M,gGCUhBgN,GAzBuB,SAAA7L,GAOE,IANF0B,EAME1B,EANF0B,gBACAzD,EAKE+B,EALF/B,SACAJ,EAIEmC,EAJFnC,YACAiO,EAGE9L,EAHF8L,0BACArK,EAEEzB,EAFFyB,MACG4E,EACDpG,OAAAiH,GAAA,EAAAjH,CAAAD,EAAA+L,IACpC,OAAOlG,EAAAzF,EAAA0F,cAAA,WACHD,EAAAzF,EAAA0F,cAACkG,GAAD,CAAWpC,gBAAiBlI,EACjBzD,SAAUA,EACVJ,YAAaA,EACbgM,cAAeiC,IAE1BjG,EAAAzF,EAAA0F,cAAA,WACKrE,EAAMH,IAAI,SAAAC,GAAC,OAAIsE,EAAAzF,EAAA0F,cAACmG,GAAD,CAAMvD,IAAKnH,EAAEtE,GACPsO,KAAMhK,EACNK,oBAAqByE,EAAMzE,oBAC3BlD,SAAU2H,EAAM3H,SAChBH,OAAQ8H,EAAM9H,mCC3BjC2N,GALC,SAAC7F,GACb,OAAOR,EAAAzF,EAAA0F,cAAA,WACHD,EAAAzF,EAAA0F,cAAA,OAAK2F,IAAKU,mBCELC,GAAmBC,aAHR,SAACnI,GACrB,OAAOA,EAAMS,UAAUlD,OAE+B,SAACA,GACvD,OAAOA,EAAMqD,OAAO,SAAAwH,GAAC,OAAI,MAGhBC,GAAc,SAACrI,GACxB,OAAOA,EAAMS,UAAU1G,UAEduO,GAAqB,SAACtI,GAC/B,OAAOA,EAAMS,UAAUjD,iBAEd+K,GAAiB,SAACvI,GAC3B,OAAOA,EAAMS,UAAU9G,aAEd6O,GAAgB,SAACxI,GAC1B,OAAOA,EAAMS,UAAUhD,YAEdgL,GAAyB,SAACzI,GACnC,OAAOA,EAAMS,UAAU/C,qBCMrBgL,+MAKFd,0BAA4B,SAACV,GACzByB,EAAKxG,MAAMzI,SAASwN,EAAYyB,EAAKxG,MAAMpI,kEAL/C,WACI+C,KAAKqF,MAAMzI,SAASoD,KAAKqF,MAAMxI,YAAamD,KAAKqF,MAAMpI,gCAO3D,WACI,OAAO4H,EAAAzF,EAAA0F,cAAAD,EAAAzF,EAAA0M,SAAA,KACF9L,KAAKqF,MAAM1E,WAAakE,EAAAzF,EAAA0F,cAACiH,GAAD,MAAe,KACxClH,EAAAzF,EAAA0F,cAACkH,GAAD,CAAOtL,gBAAiBV,KAAKqF,MAAM3E,gBAC5BzD,SAAU+C,KAAKqF,MAAMpI,SACrBJ,YAAamD,KAAKqF,MAAMxI,YACxB4D,MAAOT,KAAKqF,MAAM5E,MAClBlD,OAAQyC,KAAKqF,MAAM9H,OACnBG,SAAUsC,KAAKqF,MAAM3H,SACrBoN,0BAA2B9K,KAAK8K,0BAChClK,oBAAqBZ,KAAKqF,MAAMzE,8BAnBtB8H,IAAMT,WAoCnB3D,eACZyD,aAZkB,SAAC7E,GACnB,MAAO,CACHzC,MAAO2K,GAAiBlI,GACxBjG,SAAUsO,GAAYrI,GACtBxC,gBAAiB8K,GAAmBtI,GACpCrG,YAAa4O,GAAevI,GAC5BvC,WAAY+K,GAAcxI,GAC1BtC,oBAAqB+K,GAAuBzI,KAKtB,CACtB3F,OjBmDc,SAACC,GACnB,sBAAA8E,EAAArD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAkD,EAAOhD,GAAP,OAAAJ,EAAAC,EAAAI,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,OACHsB,EAAmB1B,EAAU/B,EAAQb,EAASY,OAAO0O,KAAKtP,GAAWkE,GADlE,wBAAA2B,EAAA3C,SAAA0C,MAAP,gBAAA2J,GAAA,OAAA5J,EAAAvC,MAAAC,KAAAlD,YAAA,IiBnDIY,SjBuDgB,SAACF,GACrB,sBAAAkF,EAAAzD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAsD,EAAOpD,GAAP,OAAAJ,EAAAC,EAAAI,KAAA,SAAAoD,GAAA,cAAAA,EAAAlD,KAAAkD,EAAAjD,MAAA,OACHsB,EAAmB1B,EAAU/B,EAAQb,EAASe,SAASuO,KAAKtP,GAAWmE,GADpE,wBAAA8B,EAAA/C,SAAA8C,MAAP,gBAAAwJ,GAAA,OAAAzJ,EAAA3C,MAAAC,KAAAlD,YAAA,IiBvDIF,SjB4BoB,SAACwP,EAAWnP,GACpC,sBAAA+B,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAC,EAAOC,GAAP,IAAAjC,EAAA,OAAA6B,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHJ,EAASwB,GAAiB,IAC1BxB,EAfoE,CAACT,KA/EpD,mBA+E4EjC,YAerEuP,IAFrB3M,EAAAE,KAAA,EAIgB0M,EAAOzP,SAASwP,EAAMnP,GAJtC,OAIGK,EAJHmC,EAAAG,KAKHL,EAASwB,GAAiB,IAC1BxB,EApBqD,CAACT,KA/E5C,YA+E6D2B,MAoBrDnD,EAAK4C,QACvBX,EAnB2E,CAC/ET,KAhF0B,wBAiF1B+E,MAiBgCvG,EAAKgP,aAP9B,wBAAA7M,EAAAI,SAAAP,MAAP,gBAAAQ,GAAA,OAAAd,EAAAe,MAAAC,KAAAlD,YAAA,MiBjCYwH,CAMdsH,wBCtEWW,GAAyB,SAAClH,GAEnC,IAAAkE,EAA8BC,oBAAS,GAAvCC,EAAAxK,OAAAyK,GAAA,EAAAzK,CAAAsK,EAAA,GAAKiD,EAAL/C,EAAA,GAAegD,EAAfhD,EAAA,GACAiD,EAA0BlD,mBAASnE,EAAMxH,QAAzC8O,EAAA1N,OAAAyK,GAAA,EAAAzK,CAAAyN,EAAA,GAAK7O,EAAL8O,EAAA,GAAa9N,EAAb8N,EAAA,GAEAC,oBAAU,WAAK/N,EAAUwG,EAAMxH,SAAU,CAACwH,EAAMxH,SAgBhD,OACIgH,EAAAzF,EAAA0F,cAAA,YACM0H,GAAY3H,EAAAzF,EAAA0F,cAAA,OAAK+H,MAAO,CAACC,MAAM,UAAWC,SAAU,OAAQC,WAAY,QACtEnI,EAAAzF,EAAA0F,cAAA,qBAAeD,EAAAzF,EAAA0F,cAAA,QAAMmI,cAjBR,WACrBR,GAAY,KAgBmDpH,EAAMxH,QAAU,cAG1E2O,GAAY3H,EAAAzF,EAAA0F,cAAA,WACTD,EAAAzF,EAAA0F,cAAA,SAAOoI,SAZI,SAAC7C,GACpBxL,EAAUwL,EAAE8C,cAAc1H,QAWe2H,WAAS,EAACC,OAjB5B,WACvBZ,GAAY,GACZpH,EAAMiI,aAAazP,IAgBJ4H,MAAO5H,OCYf0P,GAJuBpG,aAAU,CAC5CnD,KAAM,gBAD4BmD,CAjCT,SAAAnI,GAAoC,IAAlCqI,EAAkCrI,EAAlCqI,aAAcjJ,EAAoBY,EAApBZ,QAAS6H,EAAWjH,EAAXiH,MAElD,OADAuH,QAAQC,IAAIxH,GACLpB,EAAAzF,EAAA0F,cAAA,QAAMsC,SAAUC,GAClBxC,EAAAzF,EAAA0F,cAAA,sBACAmB,GAASpB,EAAAzF,EAAA0F,cAAA,OAAKC,UAAW8H,KAAMa,kBAC3BzH,GAELpB,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,uBADJ,IACuB4B,GAAY,YAAa,GAAI,WAAYD,KAEhE5B,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,+BACC4B,GAAY,GAAI,GAAI,iBAAkBD,GAAO,CAAC3H,KAAM,cAEzD+F,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,qCACC4B,GAAY,0BAA2B,GAAI,4BAA6BF,KAG7E3B,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,sBACC4B,GAAY,WAAY,GAAI,UAAWF,KAE5C3B,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,sBADJ,IACsB7F,OAAO0O,KAAKvP,EAAQwP,UAAUtN,IAAI,SAAAoH,GACpD,OAAO7C,EAAAzF,EAAA0F,cAAA,OAAK4C,IAAKA,GACZA,EADE,KACKhB,GAAY,GAAI,GAAI,YAAcgB,EAAKjB,WCzBlDoH,GAAc,SAAA7O,GAAgF,IAA9EZ,EAA8EY,EAA9EZ,QAASP,EAAqEmB,EAArEnB,OAAQyP,EAA6DtO,EAA7DsO,aAAcQ,EAA+C9O,EAA/C8O,QAASC,EAAsC/O,EAAtC+O,UAAWC,EAA2BhP,EAA3BgP,YAE5EzE,EAAgCC,oBAAS,GAAzCC,EAAAxK,OAAAyK,GAAA,EAAAzK,CAAAsK,EAAA,GAAOiD,EAAP/C,EAAA,GAAiBgD,EAAjBhD,EAAA,GAEA,IAAKrL,EACD,OAAOyG,EAAAzF,EAAA0F,cAACiH,GAAD,MAoBX,OACIlH,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEiJ,WACdpJ,EAAAzF,EAAA0F,cAAA,OACI2F,IAAI,4HAEZ5F,EAAAzF,EAAA0F,cAAA,OAAK2F,IAAKrM,EAAQsF,OAAOwK,OAAS/S,KAClC0J,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEmJ,aACdtJ,EAAAzF,EAAA0F,cAAA,WACKgJ,GAAWjJ,EAAAzF,EAAA0F,cAAA,SAAOhG,KAAM,OAAQoO,SA3BnB,SAAC7C,GACvBA,EAAE+D,OAAOC,MAAMtR,QACfgR,EAAU1D,EAAE+D,OAAOC,MAAM,QA2BrBxJ,EAAAzF,EAAA0F,cAACwJ,GAAD,CAAwBzQ,OAAQA,EAAQyP,aAAcA,IAErDd,EAEG3H,EAAAzF,EAAA0F,cAACyJ,GAAD,CAA+BnQ,QAASA,EACTgJ,SAxB9B,SAACpJ,GACdgQ,EAAYhQ,GAAUZ,KAClB,WACIqP,GAAY,MAsBuB+B,cAAepQ,IAG9CyG,EAAAzF,EAAA0F,cAAC2J,GAAD,CAAkBrQ,QAASA,EACT0P,QAASA,EACTY,aAlCb,WACjBjC,GAAY,SAyCdkC,GAAmB,SAAAzN,GAAsC,IAApC9C,EAAoC8C,EAApC9C,QAAS0P,EAA2B5M,EAA3B4M,QAASY,EAAkBxN,EAAlBwN,aACzC,OAAO7J,EAAAzF,EAAA0F,cAAA,WACFgJ,GAAWjJ,EAAAzF,EAAA0F,cAAA,UAAQkF,QAAS0E,GAAjB,gBACZ7J,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,uBADJ,IACuB1G,EAAQwQ,UAE/B/J,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,+BADJ,IAC+B1G,EAAQyQ,eAAiB,MAAQ,MAE/DzQ,EAAQyQ,gBACThK,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,qCADJ,IACqC1G,EAAQ0Q,2BAE7CjK,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,sBADJ,IACsB1G,EAAQ2Q,SAE9BlK,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,sBADJ,IACsB7F,OAAO0O,KAAKvP,EAAQwP,UAAUtN,IAAI,SAAAoH,GACpD,OAAO7C,EAAAzF,EAAA0F,cAACkK,GAAD,CAAStH,IAAKA,EAAKuH,aAAcvH,EAAKwH,aAAc9Q,EAAQwP,SAASlG,UAM3EyH,GAAU,SAAA7M,GAAkC,IAAhC2M,EAAgC3M,EAAhC2M,aAAcC,EAAkB5M,EAAlB4M,aACnC,OAAOrK,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAEoK,SAAUH,EAA5B,IACHpK,EAAAzF,EAAA0F,cAAA,KAAGuK,KAAMH,EAAcd,OAAO,UAAUc,+CC/EnCI,GAAa,SAACjK,GACvB,OACIkK,EAAA,qBAAKxK,UAAWC,KAAEzJ,MACdgU,EAAA,qBAAK9E,IAAI,iFACRpF,EAAMvJ,QACPyT,EAAA,iCACUlK,EAAMmK,QCRtBC,GAAU/G,IAAMgH,KAAK,SAAArK,GACvB,IAAIsK,EAAc1Q,OAAAoE,EAAA,EAAApE,CAAIoG,EAAM/J,OACvBsU,UACAtP,IAAI,SAAAjF,GAAC,OAAIwJ,EAAAzF,EAAA0F,cAAC+K,GAAD,CAAYnI,IAAKrM,EAAEY,GAAIA,GAAIZ,EAAEY,GAAIH,QAAST,EAAES,QAAS0T,KAAMnU,EAAEuD,cAM3E,OACIiG,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAE1J,OACduJ,EAAAzF,EAAA0F,cAAA,qBACAD,EAAAzF,EAAA0F,cAACgL,GAAD,CAAkB1I,SAPT,SAAC5D,GACd6B,EAAM0K,QAAQvM,EAAOwM,gBAOhBL,KAKPG,GAAmB3I,aAAU,CAACnD,KAAM,mBAAjBmD,CAIzB,SAAqB9B,GACjB,OAAOR,EAAAzF,EAAA0F,cAAA,QAAMsC,SAAU/B,EAAMgC,cACzBxC,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAACiC,GAAA,EAAD,CAAOF,UAAWL,GAAUtK,KAAK,cAAcyK,YAAY,qBACpDK,SAAU,CAACxB,GAAUyK,OAEhCpL,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,8BATNmL,GAAcvK,GAAiB,IActB+J,UCrBAS,GADUnI,aAdD,SAAC7E,GACrB,MAAO,CACH5H,MAAO4H,EAAMI,YAAY3E,SACzB8E,YAAaP,EAAMI,YAAYG,cAGZ,SAAClE,GACxB,MAAO,CACHwQ,QAAS,SAACvM,GACNjE,EzB+Ea,SAACiE,GAAD,MAAoC,CAAC1E,KAzF7C,WAyF6D0E,UyB/EzD2M,CAAU3M,OAKNuE,CAA6C0H,ICfzDW,GAAU,SAAC/K,GACpB,OACIR,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAACuL,GAAgBhL,GACjBR,EAAAzF,EAAA0F,cAACwL,GAAD,QCKNC,0KACF,WACI,IAAI/S,EAASwC,KAAKqF,MAAMmL,MAAMC,OAAOjT,OAChCA,IACDA,EAASwC,KAAKqF,MAAMqL,mBAEhB1Q,KAAKqF,MAAMsL,QAAQtH,KAAK,UAGhCrJ,KAAKqF,MAAMtG,eAAevB,GAC1BwC,KAAKqF,MAAMuL,UAAUpT,yBAGzB,WACI,OACIqH,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAC+L,GAAD5R,OAAAsH,OAAA,GAAavG,KAAKqF,MAAlB,CACSjH,QAAS4B,KAAKqF,MAAMjH,QACpB0P,SAAU9N,KAAKqF,MAAMmL,MAAMC,OAAOjT,OAClCuQ,UAAW/N,KAAKqF,MAAM0I,UACtBC,YAAahO,KAAKqF,MAAM2I,uBApBlBtF,IAAMT,WAoCtB3D,eACXyD,aAVkB,SAAC7E,GACnB,MAAO,CACH9E,QAAS8E,EAAMI,YAAYlF,QAC3BP,OAAQqF,EAAMI,YAAYzF,OAC1BgE,OAAQqB,EAAMa,KAAKlC,OACnB6O,iBAAkBxN,EAAMa,KAAK9H,KAKR,CAAC8C,iBAAgB6R,U3BsDrB,SAACpT,GAAD,sBAAA0D,EAAAjC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAoB,SAAA8B,EAAO5B,GAAP,IAAAlC,EAAA,OAAA8B,EAAAC,EAAAI,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cAAA2B,EAAA3B,KAAA,EAClB/B,EAAqBJ,GADH,OACnCH,EADmCiE,EAAA1B,KAEzCL,EAASV,EAAUxB,EAASC,OAFa,wBAAAgE,EAAAzB,SAAAsB,MAApB,gBAAAK,GAAA,OAAAN,EAAAnB,MAAAC,KAAAlD,YAAA,I2BtDgCwQ,a3B0D7B,SAACzP,GAAD,sBAAAyE,EAAArD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAoB,SAAAkD,EAAOhD,GAAP,OAAAJ,EAAAC,EAAAI,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA9C,KAAA,EAAA8C,EAAA7C,KAAA,EAEjB/B,EAAwBC,GAFP,OAGP,IAHO2E,EAAA5C,KAG3BtC,KAAKiE,YACdhC,EAASV,EAAUhB,IAJiB2E,EAAA7C,KAAA,eAAA6C,EAAA9C,KAAA,EAAA8C,EAAAsO,GAAAtO,EAAA,iCAAAA,EAAA3C,SAAA0C,EAAA,iBAApB,gBAAAd,GAAA,OAAAa,EAAAvC,MAAAC,KAAAlD,YAAA,I2B1D2CiR,U3BoE9C,SAACgD,GAAD,sBAAArO,EAAAzD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAe,SAAAsD,EAAOpD,GAAP,IAAAlC,EAAA,OAAA8B,EAAAC,EAAAI,KAAA,SAAAoD,GAAA,cAAAA,EAAAlD,KAAAkD,EAAAjD,MAAA,cAAAiD,EAAAjD,KAAA,EAEb/B,EAAqBmT,GAFR,OAGH,KAD3B1T,EAF8BuF,EAAAhD,MAGvBtC,KAAKiE,YACdhC,EA1BgE,CAACT,KAzF9C,qBAyFwE4E,OA0BjErG,EAASC,KAAKA,KAAKoG,SAJb,wBAAAd,EAAA/C,SAAA8C,MAAf,gBAAAjB,GAAA,OAAAgB,EAAA3C,MAAAC,KAAAlD,YAAA,I2BpEyDkR,Y3B2EvD,SAAC5P,GAAD,sBAAA4S,EAAA/R,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAkB,SAAA4R,EAAO1R,EAAe2R,GAAtB,IAAA1T,EAAAH,EAAA,OAAA8B,EAAAC,EAAAI,KAAA,SAAA2R,GAAA,cAAAA,EAAAzR,KAAAyR,EAAAxR,MAAA,cACnCnC,EAAS0T,IAAWnN,KAAK9H,GADUkV,EAAAxR,KAAA,EAGlB/B,EAAuBQ,GAHL,UAIR,KAD3Bf,EAHmC8T,EAAAvR,MAI5BtC,KAAKiE,WAJuB,CAAA4P,EAAAxR,KAAA,QAKrCJ,EAASR,EAAevB,IALa2T,EAAAxR,KAAA,uBAOrCJ,EAAS6R,YAAW,eAAgB,CAACC,OAAQhU,EAASC,KAAKzB,SAAS,MAP/BsV,EAAAG,OAAA,SAQ9BC,QAAQC,OAAOnU,EAASC,KAAKzB,SAAS,KARR,yBAAAsV,EAAAtR,SAAAoR,MAAlB,gBAAAtP,EAAAuK,GAAA,OAAA8E,EAAAjR,MAAAC,KAAAlD,YAAA,M2B1EvB2U,KAFWnN,CAIbiM,wBCjDWmB,GAAS,SAACrM,GACnB,OACIR,EAAAzF,EAAA0F,cAAA,UAAQC,UAAWC,KAAE2M,QACjB9M,EAAAzF,EAAA0F,cAAA,OAAK2F,IAAI,+DACT5F,EAAAzF,EAAA0F,cAAA,OAAKC,UAAWC,KAAE4M,YACbvM,EAAMxD,OACHgD,EAAAzF,EAAA0F,cAAA,8CAAaO,EAAMzD,MAAnB,MAA4BiD,EAAAzF,EAAA0F,cAAA,UAAQkF,QAAS3E,EAAMhD,QAAvB,WAA+CwC,EAAAzF,EAAA0F,cAAA,kBAAUO,EAAMpJ,KAC3F4I,EAAAzF,EAAA0F,cAACG,GAAA,EAAD,CAASC,GAAI,UAAb,YCNd2M,0KACF,WACI7R,KAAKqF,MAAMnD,wCAGf,WACI,OAAO2C,EAAAzF,EAAA0F,cAACgN,GAAW9R,KAAKqF,cANFqD,IAAMT,WAgBrBF,gBANS,SAAC7E,GAAD,MAAY,CAChCrB,OAAQqB,EAAMa,KAAKlC,OACnBD,MAAOsB,EAAMa,KAAKnC,MAClB3F,GAAIiH,EAAMa,KAAK9H,KAGqB,CAACiG,kBAAiBG,UAA3C0F,CAAoD8J,ICQ7DE,GAAiB5K,aAAU,CAC7BnD,KAAM,SADamD,CApBL,SAAAnI,GAAuC,IAArCqI,EAAqCrI,EAArCqI,aAAcpB,EAAuBjH,EAAvBiH,MAAOnE,EAAgB9C,EAAhB8C,WACrC,OACI+C,EAAAzF,EAAA0F,cAAA,QAAMsC,SAAUC,GACXX,GAAY,QAAS,CAAClB,IAAW,QAASiB,IAC1CC,GAAY,WAAY,CAAClB,IAAW,WAAYiB,GAAO,CAAC3H,KAAM,aAC9D4H,GAAY,KAAM,KAAM,aAAcD,GAAO,CAAC3H,KAAM,YAAa,eAEjEgD,GAAc+C,EAAAzF,EAAA0F,cAAA,OAAK2F,IAAK3I,IACxBA,GAAc4E,GAAY,kBAAmB,CAAClB,IAAW,UAAWiB,GAAO,IAE3ER,GAASpB,EAAAzF,EAAA0F,cAAA,OAAKC,UAAW8H,KAAMa,kBAC3BzH,GAELpB,EAAAzF,EAAA0F,cAAA,WACID,EAAAzF,EAAA0F,cAAA,2BA8BDiD,gBALS,SAAC7E,GAAD,MAAY,CAChCrB,OAAQqB,EAAMa,KAAKlC,OACnBC,WAAYoB,EAAMa,KAAKjC,aAGa,CAACF,M3BKpB,SAACtD,EAAeC,EAAkBC,EAAqBC,GAAvD,sBAAAyC,EAAAjC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAwE,SAAA8B,EAAO5B,GAAP,IAAAlC,EAAAvB,EAAA,OAAAqD,EAAAC,EAAAI,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cAAA2B,EAAA3B,KAAA,EAClEtB,EAAcC,EAAOC,EAAUC,EAAYC,GADuB,OAExD,KAD3BpB,EADmFiE,EAAA1B,MAE5EtC,KAAKiE,WACdhC,EAAS2C,MAEwB,KAA7B7E,EAASC,KAAKiE,YACdhC,EAASkD,KAET3G,EAAUuB,EAASC,KAAKzB,SAASkB,OAAS,EAAIM,EAASC,KAAKzB,SAAS,GAAK,aAC9E0D,EAAS6R,YAAW,QAAS,CAACC,OAAQvV,MAT+C,wBAAAwF,EAAAzB,SAAAsB,MAAxE,gBAAAK,GAAA,OAAAN,EAAAnB,MAAAC,KAAAlD,YAAA,I2BL2BuF,UAAjC0F,CApBD,SAAA7G,GAAiC,IAA/BU,EAA+BV,EAA/BU,MAAOC,EAAwBX,EAAxBW,OAAQC,EAAgBZ,EAAhBY,WAK3B,OAAID,EACOgD,EAAAzF,EAAA0F,cAAC2D,GAAA,EAAD,CAAUvD,GAAI,aAGlBL,EAAAzF,EAAA0F,cAAA,WACHD,EAAAzF,EAAA0F,cAAA,mBACAD,EAAAzF,EAAA0F,cAACiN,GAAD,CAAgB3K,SAVH,SAACpJ,GACd4D,EAAM5D,EAASM,MAAON,EAASO,SAAUP,EAASQ,WAAYR,EAASS,UASnCqD,WAAYA,OC9BlDkQ,+MACFC,wBAA0B,SAACC,GACvB1E,QAAQC,IAAIyE,2DAGhB,WACIlS,KAAKqF,MAAM8M,gBACX/N,OAAOgO,iBAAiB,qBAAsBpS,KAAKiS,6DAGvD,WACI7N,OAAOiO,oBAAoB,qBAAsBrS,KAAKiS,+CAE1D,WACI,OAAKjS,KAAKqF,MAAMvC,YAIZ+B,EAAAzF,EAAA0F,cAAA,OAAKC,UAAU,eACXF,EAAAzF,EAAA0F,cAACwN,GAAD,MACAzN,EAAAzF,EAAA0F,cAACyN,GAAD,MACA1N,EAAAzF,EAAA0F,cAAA,OAAKC,UAAU,uBACXF,EAAAzF,EAAA0F,cAAC0N,GAAA,EAAD,KACI3N,EAAAzF,EAAA0F,cAAC2N,GAAA,EAAD,CAAOnN,KAAK,WACLoN,OAAQ,kBAAM7N,EAAAzF,EAAA0F,cAAC6N,GAAD,SACrB9N,EAAAzF,EAAA0F,cAAC2N,GAAA,EAAD,CAAOnN,KAAK,oBACLoN,OAAQ,kBAAM7N,EAAAzF,EAAA0F,cAAC8N,GAAD,SACrB/N,EAAAzF,EAAA0F,cAAC2N,GAAA,EAAD,CAAOnN,KAAK,SACLoN,OAAQ,kBAAM7N,EAAAzF,EAAA0F,cAAC+N,GAAD,SACrBhO,EAAAzF,EAAA0F,cAAC2N,GAAA,EAAD,CAAOnN,KAAK,SACLoN,OAAQ,kBAAM7N,EAAAzF,EAAA0F,cAACgO,GAAD,SACrBjO,EAAAzF,EAAA0F,cAAC2N,GAAA,EAAD,CAAOnN,KAAK,IACLoN,OAAQ,kBAAM7N,EAAAzF,EAAA0F,cAAA,MAAI+H,MAAO,CAACkG,QAAS,OAAQC,eAAgB,WAA7C,4BAjB1BnO,EAAAzF,EAAA0F,cAACiH,GAAD,aAfDrD,IAAMT,WA2CT3D,eAAQmN,KAAY1J,aAFX,SAAC7E,GAAD,MAAY,CAACJ,YAAaI,EAAMgB,IAAIpB,cAEA,CAACqP,c3BtBhC,iCAAAnT,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAM,SAAAC,EAAOC,GAAP,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACzBJ,EAAS2C,KADgB,OAE/B3C,EAJmE,CAACT,KA9B5C,wBAgCO,wBAAAW,EAAAI,SAAAP,MAAN,gBAAAQ,GAAA,OAAAd,EAAAe,MAAAC,KAAAlD,YAAA,M2BsBdwH,CAA+D0N,cCjD9EiB,IAASP,OACL7N,EAAAzF,EAAA0F,cAACoO,GAAA,EAAD,KACIrO,EAAAzF,EAAA0F,cAACqO,GAAA,EAAD,CAAU5O,MAAOA,GACbM,EAAAzF,EAAA0F,cAACsO,GAAD,QAEOC,SAASC,eAAe,6BCZ3CrY,EAAAC,QAAA,CAAkB+K,MAAA,6BAAAyH,iBAAA,6DCAlBzS,EAAAC,QAAA,CAAkB6O,UAAA,6BAAAK,WAAA,8BAAAD,aAAA,qDCAlBlP,EAAAC,QAAA,CAAkB+S,UAAA,+BAAAE,YAAA,iCAAAiB,QAAA,kDCAlBnU,EAAAC,QAAA,CAAkByW,OAAA,uBAAAC,WAAA","file":"static/js/main.78d9d7ff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3ZUBx\"};","module.exports = __webpack_public_path__ + \"static/media/Circle-Loading.0b1a2a60.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3HD-g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"PostWithTS_item__3ZPdo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__7sNJ6\",\"active\":\"Navbar_active__39AAr\",\"item\":\"Navbar_item__3N97N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__4o-Va\",\"dialogItems\":\"Dialogs_dialogItems__3i97o\",\"active\":\"Dialogs_active__19fxO\",\"dialog\":\"Dialogs_dialog__2cv5e\",\"messages\":\"Dialogs_messages__HPUQ1\",\"message\":\"Dialogs_message__loTUn\"};","//types\r\ntype actionType = {\r\n    type: typeof SEND_MESSAGE\r\n    newMessageBody?: string\r\n}\r\nconst SEND_MESSAGE = 'SEND_MESSAGE'\r\ntype dialogStateType = typeof initialState\r\ntype dialogType = {\r\n    id: number\r\n    name: string\r\n}\r\ntype messageType = {\r\n    id: number\r\n    message: string\r\n}\r\ntype sendMessageACType={\r\n    type: typeof SEND_MESSAGE\r\n    newMessageBody: string\r\n}\r\n//initial state\r\nlet initialState = {\r\n    dialogData: [\r\n        {id: 1, name: 'Mike'},\r\n        {id: 2, name: 'Nik'},\r\n        {id: 3, name: 'Lex'},\r\n        {id: 4, name: 'Pop'},\r\n        {id: 5, name: 'Dima'},\r\n    ] as Array<dialogType>,\r\n    messageData: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'Yhoho'}\r\n    ] as Array<messageType>,\r\n    newMessageBody: '',\r\n}\r\n//reducer\r\nexport const dialogsReducer = (state: dialogStateType = initialState, action: actionType): dialogStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE : {\r\n            let messageBody = action.newMessageBody;\r\n            return <dialogStateType>{\r\n                ...state,\r\n                messageData: [...state.messageData, {id: 4, message: messageBody}]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//action creator\r\nexport const sendMessageAC = (newMessageBody: string): sendMessageACType => ({type: SEND_MESSAGE, newMessageBody})","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"e72442e7-e84c-4575-88b8-fbca240ffc79\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`,)\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`,)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    },\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport { photosType } from \"../types/types\";\r\n//types\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\ntype profileStateType = typeof initialState\r\ntype postType = { id: string, message: string, likecount: string }\r\ntype profileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: {\r\n        github: string\r\n        vk: string\r\n        facebook: string\r\n        instagram: string\r\n        twitter: string\r\n        website: string\r\n        youtube: string\r\n        mainLink: string\r\n    }\r\n}\r\ntype addPostACType = {\r\n    type: typeof ADD_POST,\r\n    values: string\r\n}\r\ntype setUserProfileType = {\r\n    type: typeof SET_USER_PROFILE,\r\n    profile: profileType\r\n}\r\ntype setStatusType = {\r\n    type: typeof SET_STATUS,\r\n    status: string\r\n}\r\ntype savePhotoSuccessType = {\r\n    type: typeof SAVE_PHOTO_SUCCESS,\r\n    photos: photosType\r\n}\r\n//initial state\r\nlet initialState = {\r\n    postData: [\r\n        {id: '1', message: 'Hi, how are you?', likecount: '2'},\r\n        {id: '2', message: 'It is my first post', likecount: '4'},\r\n        {id: '3', message: 'I am a cat', likecount: '7'},\r\n    ] as Array<postType>,\r\n    profile: null as null | profileType,\r\n    status: '',\r\n}\r\n//reducer\r\nexport const profileReducer = (state: profileStateType = initialState, action: any): profileStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.values,\r\n                likecount: 0,\r\n            };\r\n            return <profileStateType>{\r\n                ...state,\r\n                postData: [newPost, ...state.postData],\r\n                newPostText: ''\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return <profileStateType>{\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const addPostAC = (values: string): addPostACType => ({type: ADD_POST, values})\r\nconst setUserProfile = (profile: profileType): setUserProfileType => ({type: SET_USER_PROFILE, profile})\r\nconst setStatus = (status: string): setStatusType => ({type: SET_STATUS, status})\r\nconst savePhotoSuccess = (photos: photosType): savePhotoSuccessType => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\n//thanks\r\nexport const getUserProfile = (userId: number) => async (dispatch: any) => {\r\n    const response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: any) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status: string) => async (dispatch: any) => {\r\n    try {\r\n        const response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    } catch (error) {\r\n        //some error we can add dispatch\r\n    }\r\n}\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n    // @ts-ignore\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile: any) => async (dispatch: any, getState: any) => {\r\n    const userId = getState().auth.id;\r\n    // @ts-ignore\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(m => {\r\n        if (m[objPropName] === itemId) {\r\n            return {...m, ...newObjProps}\r\n        }\r\n        return m;\r\n    })\r\n}","import {usersAPI, usersAPI as getAPI} from \"../api/api\";\r\nimport {usersType} from \"../types/types\";\r\nimport {updateObjectInArray} from \"../utuls/object-helpers\";\r\n//types\r\nconst FOLLOW_BUTTON = 'FOLLOW_BUTTON'\r\nconst UNFOLLOW_BUTTON = 'UNFOLLOW_BUTTON'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\ntype followSuccessType = {\r\n    type: typeof FOLLOW_BUTTON, userId: number\r\n}\r\ntype unFollowSuccessType = {\r\n    type: typeof UNFOLLOW_BUTTON, userId: number\r\n}\r\ntype setUsersType = {\r\n    type: typeof SET_USERS, users: usersType\r\n}\r\ntype setCurrentPageType = {\r\n    type: typeof SET_CURRENT_PAGE, currentPage: number\r\n}\r\ntype setTotalUsersCountType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT, count: number\r\n}\r\ntype toggleIsFetchingType = {\r\n    type: typeof TOGGLE_IS_FETCHING, isFetching: boolean\r\n}\r\ntype toggleIsFollowingProgressType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS, isFetching: boolean, userId: number\r\n}\r\nlet initialState = {\r\n    users: [] as Array<usersType>,\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>\r\n}\r\nexport type userStateType = typeof initialState\r\n//reducer\r\nexport const usersReducer = (state: userStateType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case FOLLOW_BUTTON: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW_BUTTON: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n//action creators\r\nexport const followSuccess = (userId: number): followSuccessType => ({type: FOLLOW_BUTTON, userId})\r\nexport const unFollowSuccess = (userId: number): unFollowSuccessType => ({type: UNFOLLOW_BUTTON, userId})\r\nexport const setUsers = (users: usersType): setUsersType => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage: number): setCurrentPageType => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsers: number): setTotalUsersCountType => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUsers\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): toggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): toggleIsFollowingProgressType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n//thanks\r\nexport const requestUsers = (page: any, pageSize: any) => {\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n\r\n        const data = await getAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: any, userId: any, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId))\r\n    const response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: any) => {\r\n    return async (dispatch: any) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\nexport const unFollow = (userId: any) => {\r\n    return async (dispatch: any) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unFollowSuccess)\r\n    }\r\n}\r\n\r\n","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n//types\r\nconst SET_USER_DATA = 'AUTH_SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\ntype stateType = typeof initialState;\r\n\r\ntype setAuthUserDataPayloadType = {\r\n    id: number | null, email: string | null, login: string | null, isAuth: boolean\r\n}\r\ntype setAuthUserDataType = {\r\n    type: typeof SET_USER_DATA,\r\n    payload: setAuthUserDataPayloadType\r\n}\r\ntype getCaptchaUrlSuccessType = {\r\n    type: typeof GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl: string }\r\n}\r\n\r\n//initial state\r\nlet initialState = {\r\n    id: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null,\r\n}\r\n\r\nexport const authReducer = (state: stateType = initialState, action: any): stateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//action creators\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean): setAuthUserDataType => (\r\n    {type: SET_USER_DATA, payload: {id, email, login, isAuth}})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): getCaptchaUrlSuccessType => (\r\n    {type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}})\r\n\r\n//thanks\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: any) => async (dispatch: any) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    const response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n//types\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\ntype stateType = {\r\n    initialized: boolean\r\n}\r\ntype initializedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\ntype actionType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\n//initial state\r\nlet initialState: stateType = {\r\n    initialized: false\r\n}\r\n//reducer\r\nexport const appReducer = (state = initialState, action: actionType): stateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Action Creator\r\nexport const initializedSuccess = (): initializedSuccessActionType => ({type: INITIALIZED_SUCCESS})\r\n//Thank\r\nexport const initializeApp = () => async (dispatch: any) => {\r\n    await dispatch(getAuthUserData());\r\n    dispatch(initializedSuccess());\r\n};\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\ntype rootReducerType = typeof rootReducers\r\nexport type appStateType = ReturnType<rootReducerType>\r\n\r\nlet rootReducers = combineReducers({\r\n    messagesPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(rootReducers\r\n, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// @ts-ignore\r\nwindow.___store___ = store\r\nexport default store;","import React from \"react\";\r\nimport c from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={c.nav}>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/profile\" activeClassName={c.active}>\r\n                    Profile\r\n                </NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/users\" activeClassName={c.active}>\r\n                    Users\r\n                </NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={c.active}>\r\n                    Messages\r\n                </NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <a>\r\n                    News\r\n                </a>\r\n            </div>\r\n            <div className={c.item}>\r\n                <a>\r\n                    Settings\r\n                </a>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import c from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nexport const DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n        <div className={`${c.dialog} ${c.active}`}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}","import c from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\n\r\nexport const Message = (props) => {\r\n    return (\r\n        <div className={c.message}>{props.message}</div>\r\n    )\r\n}\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Error message';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\n\r\nconst Element = Element => ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={(hasError ? styles.error : \"\")}>\r\n            <Element {...input} {...props} />\r\n            {hasError && <span> {error} </span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = Element(\"textarea\");\r\n\r\nexport const Input = Element(\"input\");\r\n\r\nexport const createField = (placeholder, validators, name, component, props = {}, text = \"\") => (<div>\r\n    <Field placeholder={placeholder} validate={validators} name={name} component={component} {...props}/>\r\n    {text}\r\n</div>)\r\n","import React from \"react\";\r\nimport c from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../utuls/validators/validators\";\r\nimport {Textarea} from \"../Common/FormsControl/FormsControls\";\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.messagesPage\r\n    let dialogElements = state.dialogData.map(d => <DialogItem name={d.name} id={d.id} key={d.id}/>)\r\n    let messageElements = state.messageData.map(m => <Message message={m.message} id={m.id} key={m.id}/>)\r\n\r\n    let addNewMessage=(values)=>{props.sendMessage(values.newMessageBody)}\r\n\r\n    return (\r\n        <div className={c.dialogs}>\r\n            <div className={c.dialogItems}>\r\n                {dialogElements}\r\n            </div>\r\n            <div className={c.messages}>\r\n                <div>{messageElements}</div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><Field component={Textarea} validate={[required, maxLength50]} name=\"newMessageBody\" placeholder=\"Enter your message\" /></div>\r\n            <div><button>Send Message</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"}) (AddMessageForm)\r\n\r\nexport default Dialogs;","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n        let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","import React from 'react';\r\nimport {sendMessageAC} from \"../../redux/dialogs-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage : state.messagesPage,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageAC(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n) (Dialogs)\r\n\r\n","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\ntype paginatorType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (page: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nlet Paginator: React.FC<paginatorType> = ({\r\n                                              totalItemsCount,\r\n                                              pageSize,\r\n                                              currentPage,\r\n                                              onPageChanged,\r\n                                              portionSize = 10\r\n                                          }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>}\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import styles from \"./users.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const userPhoto = 'data:image/png;base64,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'\r\n\r\nlet User = ({user, followingInProgress, unFollow, follow, ...props}) => {\r\n    return <div>\r\n            <span>\r\n                <div>\r\n                  <NavLink to={'/profile/' + user.id}>\r\n                        <img\r\n                            src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={styles.userPhoto}/>\r\n                  </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    unFollow(user.id)\r\n                                }}>Unfollow</button> :\r\n                        <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    follow(user.id)\r\n                                }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n        <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                {/*<span>*/}\r\n                {/*    <div>{'user.location.country'}</div>*/}\r\n                {/*    <div>{\"user.location.city\"}</div>*/}\r\n                {/*</span>*/}\r\n            </span>\r\n    </div>\r\n}\r\nexport default User","import React from \"react\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport {usersType} from \"../../types/types\";\r\n\r\ntype usersPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onClickPageChangedHandler: (pageNumber: number) => void\r\n    users: Array<usersType>\r\n    followingInProgress: Array<number>\r\n    unFollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nlet Users: React.FC<usersPropsType> = ({\r\n                                      totalUsersCount,\r\n                                      pageSize,\r\n                                      currentPage,\r\n                                      onClickPageChangedHandler,\r\n                                      users,\r\n                                      ...props\r\n                                  }) => {\r\n    return <div>\r\n        <Paginator totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   currentPage={currentPage}\r\n                   onPageChanged={onClickPageChangedHandler}/>\r\n\r\n        <div>\r\n            {users.map(m => <User key={m.id}\r\n                                  user={m}\r\n                                  followingInProgress={props.followingInProgress}\r\n                                  unFollow={props.unFollow}\r\n                                  follow={props.follow}\r\n\r\n            />)}\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","import React from \"react\";\r\nimport preloader from \"../../../assets/images/Circle-Loading.svg\"\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\nexport default Preloader","import {createSelector} from \"reselect\";\r\nimport {appStateType} from \"./redux-store\";\r\nimport {usersType} from \"../types/types\";\r\n\r\nexport const getUsers = (state: appStateType) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsersSelector = createSelector(getUsers,  (users: Array<usersType>) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: appStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: appStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: appStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: appStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: appStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unFollow} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSelector,\r\n} from \"../../redux/users-selectors\";\r\nimport {usersType} from \"../../types/types\";\r\nimport {appStateType} from \"../../redux/redux-store\";\r\n\r\ntype usersContainerPropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    totalUsersCount: number\r\n    users: Array<usersType>\r\n    followingInProgress: Array<number>\r\n\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<usersContainerPropsType> {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    onClickPageChangedHandler = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unFollow={this.props.unFollow}\r\n                   onClickPageChangedHandler={this.onClickPageChangedHandler}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: appStateType) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state  ),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n};\r\n\r\nexport default (compose(\r\n    connect(mapStateToProps,  {\r\n        follow,\r\n        unFollow,\r\n        getUsers: requestUsers,\r\n    }),\r\n)(UsersContainer));","import React, {useEffect, useState} from \"react\";\r\n\r\nexport const ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(()=>{setStatus(props.status)}, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!editMode && <div style={{color:'darkred', fontSize: '18px', fontWeight: '600'}}>\r\n                <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || \"No status\"}</span>\r\n            </div>}\r\n\r\n            {editMode && <div>\r\n                <input onChange={onStatusChange} autoFocus onBlur={deactivateEditMode}\r\n                       value={status}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../Common/FormsControl/FormsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport style from \"../../Common/FormsControl/FormsControls.module.css\";\r\n\r\n\r\nconst ProfileBlockInfoEdit = ({handleSubmit, profile, error}) => {\r\n    console.log(error)\r\n    return <form onSubmit={handleSubmit}>\r\n        {<button>Save</button>}\r\n        {error && <div className={style.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <b>Full name:</b> {createField(\"Full name\", [], \"fullName\", Input)}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job:</b>\r\n            {createField(\"\", [], \"lookingForAJob\", Input, {type: 'checkbox'})}\r\n        </div>\r\n        <div>\r\n            <b>Description about a job:</b>\r\n            {createField(\"Description about a job\", [], \"lookingForAJobDescription\", Textarea)}\r\n        </div>\r\n\r\n        <div>\r\n            <b>About me:</b>\r\n            {createField(\"About me\", [], \"aboutMe\", Textarea)}\r\n        </div>\r\n        <div>\r\n            <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n            return <div key={key}>\r\n                {key}: {createField(\"\", [], \"contacts.\" + key, Input)}\r\n            </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileBlockInfoEditReduxForm = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileBlockInfoEdit)\r\n\r\nexport default ProfileBlockInfoEditReduxForm","import React, {useState} from \"react\";\r\nimport c from './ProfileInfo.module.css'\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\nimport {userPhoto} from \"../../Users/User\";\r\nimport ProfileBlockInfoEditReduxForm, {ProfileBlockInfoEdit} from \"./ProfileBlockInfoEdit\";\r\n\r\nexport const ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}, ...props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    const onChangePhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const goToEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(\r\n            () => {\r\n                setEditMode(false)\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={c.imageBack}>\r\n                <img\r\n                    src=\"https://static3.depositphotos.com/1000454/256/i/600/depositphotos_2567474-stock-photo-wide-panorama-of-french-alps.jpg\"/>\r\n            </div>\r\n            <img src={profile.photos.large || userPhoto}/>\r\n            <div className={c.description}>\r\n                <div>\r\n                    {isOwner && <input type={'file'} onChange={onChangePhotoSelected}/>}\r\n                </div>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n\r\n                {editMode\r\n                    ?\r\n                    <ProfileBlockInfoEditReduxForm profile={profile}\r\n                                                   onSubmit={onSubmit}\r\n                                                   initialValues={profile}\r\n                    />\r\n                    :\r\n                    <ProfileBlockInfo profile={profile}\r\n                                      isOwner={isOwner}\r\n                                      goToEditMode={goToEditMode}\r\n                    />}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileBlockInfo = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        {isOwner && <button onClick={goToEditMode}>Edit profile</button>}\r\n        <div>\r\n            <b>Full name:</b> {profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job:</b> {profile.lookingForAJob ? 'yes' : 'no'}\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n        <div>\r\n            <b>Description about a job:</b> {profile.lookingForAJobDescription}\r\n        </div>}\r\n        <div>\r\n            <b>About me:</b> {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n            return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n        })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const Contact = ({contactTitle, contactValue}) => {\r\n    return <div className={c.contact}>{contactTitle}:\r\n        <a href={contactValue} target=\"_blank\">{contactValue}</a></div>\r\n}","import * as React from \"react\";\r\nimport c from './PostWithTS.module.css'\r\n\r\ntype propsTypeForPosts = {\r\n    id: number\r\n    message: string\r\n    like: number\r\n}\r\n\r\nexport const PostWithTS = (props: propsTypeForPosts) => {\r\n    return (\r\n        <div className={c.item}>\r\n            <img src=\"https://author.today/content/2020/02/29/5f7d802fc35d4cbdacea7161f5f45212.jpg\"/>\r\n            {props.message}\r\n            <div>\r\n                like {props.like}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport c from './MyPosts.module.css'\r\nimport {PostWithTS} from \"./Post/PostWithTS\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utuls/validators/validators\";\r\nimport {Textarea} from \"../../Common/FormsControl/FormsControls\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postElement = [...props.posts]\r\n        .reverse()\r\n        .map(p => <PostWithTS key={p.id} id={p.id} message={p.message} like={p.likecount}/>)\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostBody)\r\n    }\r\n\r\n    return (\r\n        <div className={c.posts}>\r\n            <h3>My post</h3>\r\n            <AddPostFormRedux onSubmit={addNewPost}/>\r\n            {postElement}\r\n        </div>\r\n    )\r\n});\r\n\r\nconst AddPostFormRedux = reduxForm({form: \"postAddPostForm\"})(AddPostForm)\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nfunction AddPostForm(props) {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field component={Textarea} name=\"newPostBody\" placeholder=\"Enter your message\"\r\n                   validate={[required, maxLength10]}/>\r\n        </div>\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>;\r\n}\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostAC} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.postData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (values) => {\r\n            dispatch(addPostAC(values))\r\n        },\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nexport const Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo {...props}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getStatus,\r\n    getUserProfile,\r\n    savePhoto,\r\n    saveProfile,\r\n    updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props}\r\n                         profile={this.props.profile}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         savePhoto={this.props.savePhoto}\r\n                         saveProfile={this.props.saveProfile}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        isAuth: state.auth.isAuth,\r\n        authorizedUserId: state.auth.id,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileContainer);","import React from \"react\";\r\nimport c from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Header = (props) => {\r\n    return (\r\n        <header className={c.header}>\r\n            <img src=\"https://pngimg.com/uploads/tesla_logo/tesla_logo_PNG16.png\"/>\r\n            <div className={c.loginBlock}>\r\n                {props.isAuth ?\r\n                    <div>: {props.login} - <button onClick={props.logout}>Log out</button><div>ID: {props.id}</div></div>:\r\n                    <NavLink to={'/login'}>Login\r\n                    </NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getAuthUserData()\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    id: state.auth.id,\r\n})\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData, logout})(HeaderContainer);","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControl/FormsControls\";\r\nimport {required} from \"../../utuls/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"../Common/FormsControl/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", [required], \"email\", Input)}\r\n            {createField(\"Password\", [required], \"password\", Input, {type: \"password\"})}\r\n            {createField(null, null, \"rememberMe\", Input, {type: \"checkbox\"}, \"Remember me\")}\r\n\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField('Antibot symbols', [required], \"captcha\", Input, {})}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = ({login, isAuth, captchaUrl}) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);","import React from \"react\";\r\nimport './App.css';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {Route, Switch, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n        console.log(promiseRejectionEvent)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route path='/dialogs'\r\n                               render={() => <DialogsContainer/>}/>\r\n                        <Route path='/profile/:userId?'\r\n                               render={() => <ProfileContainer/>}/>\r\n                        <Route path='/users'\r\n                               render={() => <UsersContainer/>}/>\r\n                        <Route path='/login'\r\n                               render={() => <Login/>}/>\r\n                        <Route path='*'\r\n                               render={() => <h1 style={{display: 'flex', justifyContent: 'center'}}>\r\n                                   404 PAGE NOT FOUND</h1>}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({initialized: state.app.initialized})\r\n\r\nexport default compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);","import store from \"./redux/redux-store\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <HashRouter >\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__1Ey0h\",\"formSummaryError\":\"FormsControls_formSummaryError__cvdV4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1qHJB\",\"pageNumber\":\"Paginator_pageNumber__1_S9l\",\"selectedPage\":\"Paginator_selectedPage__3-jn7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageBack\":\"ProfileInfo_imageBack__3pZFB\",\"description\":\"ProfileInfo_description__3E5Wj\",\"contact\":\"ProfileInfo_contact__1nkcc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__TkvHx\",\"loginBlock\":\"Header_loginBlock__2iGVg\"};"],"sourceRoot":""}