(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,n){e.exports={userPhoto:"users_userPhoto__3ZUBx"}},129:function(e,t,n){e.exports=n.p+"static/media/Circle-Loading.0b1a2a60.svg"},130:function(e,t,n){e.exports={posts:"MyPosts_posts__3HD-g"}},131:function(e,t,n){e.exports={item:"PostWithTS_item__3ZPdo"}},159:function(e,t,n){e.exports=n(289)},24:function(e,t,n){e.exports={nav:"Navbar_nav__7sNJ6",active:"Navbar_active__39AAr",item:"Navbar_item__3N97N"}},244:function(e,t,n){},245:function(e,t,n){},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__4o-Va",dialogItems:"Dialogs_dialogItems__3i97o",active:"Dialogs_active__19fxO",dialog:"Dialogs_dialog__2cv5e",messages:"Dialogs_messages__HPUQ1",message:"Dialogs_message__loTUn"}},289:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(25),o=n(5),c={dialogData:[{id:1,name:"Mike"},{id:2,name:"Nik"},{id:3,name:"Lex"},{id:4,name:"Pop"},{id:5,name:"Dima"}],messageData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Yhoho"}],newMessageBody:""},i=n(6),l=n.n(i),u=n(11),s=n(122).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"e72442e7-e84c-4575-88b8-fbca240ffc79"}}),m={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return s.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},follow:function(e){return s.post("follow/".concat(e))},unFollow:function(e){return s.delete("follow/".concat(e))}},p=function(e){return s.get("profile/"+e)},f=function(e){return s.get("profile/status/"+e)},d=function(e){return s.put("profile/status/",{status:e})},E=function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},g=function(e){return s.put("profile",e)},h=function(){return s.get("auth/me")},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return s.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},b=function(){return s.delete("auth/login")},O=function(){return s.get("security/get-captcha-url")},j=n(19),S={postData:[{id:"1",message:"Hi, how are you?",likecount:"2"},{id:"2",message:"It is my first post",likecount:"4"},{id:"3",message:"I am a cat",likecount:"7"}],profile:null,status:""},w=function(e){return{type:"SET_STATUS",status:e}},P=function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},C=function(e,t,n,a){return e.map(function(e){return e[n]===t?Object(o.a)(Object(o.a)({},e),a):e})},U={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},y=function(e){return{type:"FOLLOW_BUTTON",userId:e}},A=function(e){return{type:"UNFOLLOW_BUTTON",userId:e}},k=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},I=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},T=function(){var e=Object(u.a)(l.a.mark(function e(t,n,a,r){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(I(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(I(!1,n));case 6:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),N={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},F=function(e,t,n,a){return{type:"AUTH_SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},D=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},R=function(){return function(){var e=Object(u.a)(l.a.mark(function e(t){var n,a,r,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,c=a.email,t(F(r,c,o,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},x=function(){return function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:0===e.sent.data.resultCode&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var e=Object(u.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:n=e.sent,a=n.data.url,t(D(a));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},M=n(124),B=n(121),z={initialized:!1},L=Object(a.c)({messagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return Object(o.a)(Object(o.a)({},e),{},{messageData:[].concat(Object(r.a)(e.messageData),[{id:4,message:n}])});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:5,message:t.values,likecount:0};return Object(o.a)(Object(o.a)({},e),{},{postData:[n].concat(Object(r.a)(e.postData)),newPostText:""});case"SET_USER_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW_BUTTON":return Object(o.a)(Object(o.a)({},e),{},{users:C(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW_BUTTON":return Object(o.a)(Object(o.a)({},e),{},{users:C(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:Object(r.a)(t.users)});case"SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!=t.userId})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},form:B.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALIZED_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}}}),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,H=Object(a.e)(L,Q(Object(a.a)(M.a)));window.___store___=H;var Y=H,G=n(0),V=n.n(G),J=n(125),K=n.n(J),q=(n(244),n(20)),W=n(21),Z=n(23),X=n(22),$=(n(245),n(24)),ee=n.n($),te=n(293),ne=function(){return V.a.createElement("nav",{className:ee.a.nav},V.a.createElement("div",{className:ee.a.item},V.a.createElement(te.a,{to:"/profile",activeClassName:ee.a.active},"Profile")),V.a.createElement("div",{className:ee.a.item},V.a.createElement(te.a,{to:"/users",activeClassName:ee.a.active},"Users")),V.a.createElement("div",{className:ee.a.item},V.a.createElement(te.a,{to:"/dialogs",activeClassName:ee.a.active},"Messages")),V.a.createElement("div",{className:ee.a.item},V.a.createElement("a",null,"News")),V.a.createElement("div",{className:ee.a.item},V.a.createElement("a",null,"Settings")))},ae=n(295),re=n(126),oe=n(294),ce=n(9),ie=n(26),le=n.n(ie),ue=function(e){var t="/dialogs/"+e.id;return V.a.createElement("div",{className:"".concat(le.a.dialog," ").concat(le.a.active)},V.a.createElement(te.a,{to:t},e.name))},se=function(e){return V.a.createElement("div",{className:le.a.message},e.message)},me=n(119),pe=n(120),fe=function(e){if(!e)return"Error message"},de=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},Ee=n(41),ge=n(37),he=n.n(ge),ve=["input","meta"],be=function(e){return function(t){var n=t.input,a=t.meta,r=a.touched,o=a.error,c=Object(Ee.a)(t,ve),i=r&&o;return V.a.createElement("div",{className:i?he.a.error:""},V.a.createElement(e,Object.assign({},n,c)),i&&V.a.createElement("span",null," ",o," "))}},Oe=be("textarea"),je=be("input"),Se=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return V.a.createElement("div",null,V.a.createElement(me.a,Object.assign({placeholder:e,validate:t,name:n,component:a},r)),o)},we=de(50),Pe=Object(pe.a)({form:"dialogAddMessageForm"})(function(e){return V.a.createElement("form",{onSubmit:e.handleSubmit},V.a.createElement("div",null,V.a.createElement(me.a,{component:Oe,validate:[fe,we],name:"newMessageBody",placeholder:"Enter your message"})),V.a.createElement("div",null,V.a.createElement("button",null,"Send Message")))}),Ce=function(e){var t=e.messagesPage,n=t.dialogData.map(function(e){return V.a.createElement(ue,{name:e.name,id:e.id,key:e.id})}),a=t.messageData.map(function(e){return V.a.createElement(se,{message:e.message,id:e.id,key:e.id})});return V.a.createElement("div",{className:le.a.dialogs},V.a.createElement("div",{className:le.a.dialogItems},n),V.a.createElement("div",{className:le.a.messages},V.a.createElement("div",null,a),V.a.createElement(Pe,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},Ue=n(291),ye=function(e){return{isAuth:e.auth.isAuth}},Ae=Object(a.d)(Object(ce.b)(function(e){return{messagesPage:e.messagesPage}},function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}}),function(e){var t=function(t){Object(Z.a)(a,t);var n=Object(X.a)(a);function a(){return Object(q.a)(this,a),n.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return this.props.isAuth?V.a.createElement(e,this.props):V.a.createElement(Ue.a,{to:"/login"})}}]),a}(V.a.Component);return Object(ce.b)(ye)(t)})(Ce),ke=n(63),Ie=n(35),Te=n(69),Ne=n.n(Te),Fe=n(127),De=n.n(Fe),Re=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,c=void 0===o?10:o,i=Math.ceil(t/n),l=[],u=1;u<=i;u++)l.push(u);var s=Math.ceil(i/c),m=Object(G.useState)(1),p=Object(Ie.a)(m,2),f=p[0],d=p[1],E=(f-1)*c+1,g=f*c;return V.a.createElement("div",{className:Ne.a.paginator},f>1&&V.a.createElement("button",{onClick:function(){d(f-1)}},"PREV"),l.filter(function(e){return e>=E&&e<=g}).map(function(e){return V.a.createElement("span",{className:De()(Object(ke.a)({},Ne.a.selectedPage,a===e),Ne.a.pageNumber),key:e,onClick:function(t){r(e)}},e)}),s>f&&V.a.createElement("button",{onClick:function(){d(f+1)}},"NEXT"))},xe=n(128),_e=n.n(xe),Me=["user","followingInProgress","unFollow","follow"],Be="data:image/png;base64,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",ze=function(e){var t=e.user,n=e.followingInProgress,a=e.unFollow,r=e.follow;Object(Ee.a)(e,Me);return V.a.createElement("div",null,V.a.createElement("span",null,V.a.createElement("div",null,V.a.createElement(te.a,{to:"/profile/"+t.id},V.a.createElement("img",{src:null!=t.photos.small?t.photos.small:Be,className:_e.a.userPhoto}))),V.a.createElement("div",null,t.followed?V.a.createElement("button",{disabled:n.some(function(e){return e===t.id}),onClick:function(){a(t.id)}},"Unfollow"):V.a.createElement("button",{disabled:n.some(function(e){return e===t.id}),onClick:function(){r(t.id)}},"Follow"))),V.a.createElement("span",null,V.a.createElement("span",null,V.a.createElement("div",null,t.name),V.a.createElement("div",null,t.status))))},Le=["totalUsersCount","pageSize","currentPage","onClickPageChangedHandler","users"],Qe=function(e){var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,r=e.onClickPageChangedHandler,o=e.users,c=Object(Ee.a)(e,Le);return V.a.createElement("div",null,V.a.createElement(Re,{totalItemsCount:t,pageSize:n,currentPage:a,onPageChanged:r}),V.a.createElement("div",null,o.map(function(e){return V.a.createElement(ze,{key:e.id,user:e,followingInProgress:c.followingInProgress,unFollow:c.unFollow,follow:c.follow})})))},He=n(129),Ye=n.n(He),Ge=function(e){return V.a.createElement("div",null,V.a.createElement("img",{src:Ye.a}))},Ve=n(133),Je=Object(Ve.a)(function(e){return e.usersPage.users},function(e){return e.filter(function(e){return!0})}),Ke=function(e){return e.usersPage.pageSize},qe=function(e){return e.usersPage.totalUsersCount},We=function(e){return e.usersPage.currentPage},Ze=function(e){return e.usersPage.isFetching},Xe=function(e){return e.usersPage.followingInProgress},$e=function(e){Object(Z.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(q.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickPageChangedHandler=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(W.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return V.a.createElement(V.a.Fragment,null,this.props.isFetching?V.a.createElement(Ge,null):null,V.a.createElement(Qe,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unFollow:this.props.unFollow,onClickPageChangedHandler:this.onClickPageChangedHandler,followingInProgress:this.props.followingInProgress}))}}]),n}(V.a.Component),et=Object(a.d)(Object(ce.b)(function(e){return{users:Je(e),pageSize:Ke(e),totalUsersCount:qe(e),currentPage:We(e),isFetching:Ze(e),followingInProgress:Xe(e)}},{follow:function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:T(n,e,m.follow.bind(m),y);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:T(n,e,m.unFollow.bind(m),A);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(u.a)(l.a.mark(function n(a){var r;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(k(!0)),a({type:"SET_CURRENT_PAGE",currentPage:e}),n.next=4,m.getUsers(e,t);case 4:r=n.sent,a(k(!1)),a({type:"SET_USERS",users:r.items}),a({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}}))($e),tt=n(70),nt=n.n(tt),at=function(e){var t=Object(G.useState)(!1),n=Object(Ie.a)(t,2),a=n[0],r=n[1],o=Object(G.useState)(e.status),c=Object(Ie.a)(o,2),i=c[0],l=c[1];Object(G.useEffect)(function(){l(e.status)},[e.status]);return V.a.createElement("div",null,!a&&V.a.createElement("div",{style:{color:"darkred",fontSize:"18px",fontWeight:"600"}},V.a.createElement("b",null,"Status: "),V.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"No status")),a&&V.a.createElement("div",null,V.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(i)},value:i})))},rt=Object(pe.a)({form:"edit-profile"})(function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return console.log(a),V.a.createElement("form",{onSubmit:t},V.a.createElement("button",null,"Save"),a&&V.a.createElement("div",{className:he.a.formSummaryError},a),V.a.createElement("div",null,V.a.createElement("b",null,"Full name:")," ",Se("Full name",[],"fullName",je)),V.a.createElement("div",null,V.a.createElement("b",null,"Looking for a job:"),Se("",[],"lookingForAJob",je,{type:"checkbox"})),V.a.createElement("div",null,V.a.createElement("b",null,"Description about a job:"),Se("Description about a job",[],"lookingForAJobDescription",Oe)),V.a.createElement("div",null,V.a.createElement("b",null,"About me:"),Se("About me",[],"aboutMe",Oe)),V.a.createElement("div",null,V.a.createElement("b",null,"Contacts:")," ",Object.keys(n.contacts).map(function(e){return V.a.createElement("div",{key:e},e,": ",Se("",[],"contacts."+e,je))})))}),ot=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,o=e.savePhoto,c=e.saveProfile,i=Object(G.useState)(!1),l=Object(Ie.a)(i,2),u=l[0],s=l[1];if(!t)return V.a.createElement(Ge,null);return V.a.createElement("div",null,V.a.createElement("div",{className:nt.a.imageBack},V.a.createElement("img",{src:"https://static3.depositphotos.com/1000454/256/i/600/depositphotos_2567474-stock-photo-wide-panorama-of-french-alps.jpg"})),V.a.createElement("img",{src:t.photos.large||Be}),V.a.createElement("div",{className:nt.a.description},V.a.createElement("div",null,r&&V.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})),V.a.createElement(at,{status:n,updateStatus:a}),u?V.a.createElement(rt,{profile:t,onSubmit:function(e){c(e).then(function(){s(!1)})},initialValues:t}):V.a.createElement(ct,{profile:t,isOwner:r,goToEditMode:function(){s(!0)}})))},ct=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return V.a.createElement("div",null,n&&V.a.createElement("button",{onClick:a},"Edit profile"),V.a.createElement("div",null,V.a.createElement("b",null,"Full name:")," ",t.fullName),V.a.createElement("div",null,V.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&V.a.createElement("div",null,V.a.createElement("b",null,"Description about a job:")," ",t.lookingForAJobDescription),V.a.createElement("div",null,V.a.createElement("b",null,"About me:")," ",t.aboutMe),V.a.createElement("div",null,V.a.createElement("b",null,"Contacts:")," ",Object.keys(t.contacts).map(function(e){return V.a.createElement(it,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))},it=function(e){var t=e.contactTitle,n=e.contactValue;return V.a.createElement("div",{className:nt.a.contact},t,":",V.a.createElement("a",{href:n,target:"_blank"},n))},lt=n(130),ut=n.n(lt),st=n(131),mt=n.n(st),pt=function(e){return G.createElement("div",{className:mt.a.item},G.createElement("img",{src:"https://author.today/content/2020/02/29/5f7d802fc35d4cbdacea7161f5f45212.jpg"}),e.message,G.createElement("div",null,"like ",e.like))},ft=V.a.memo(function(e){var t=Object(r.a)(e.posts).reverse().map(function(e){return V.a.createElement(pt,{key:e.id,id:e.id,message:e.message,like:e.likecount})});return V.a.createElement("div",{className:ut.a.posts},V.a.createElement("h3",null,"My post"),V.a.createElement(dt,{onSubmit:function(t){e.addPost(t.newPostBody)}}),t)}),dt=Object(pe.a)({form:"postAddPostForm"})(function(e){return V.a.createElement("form",{onSubmit:e.handleSubmit},V.a.createElement("div",null,V.a.createElement(me.a,{component:Oe,name:"newPostBody",placeholder:"Enter your message",validate:[fe,Et]})),V.a.createElement("div",null,V.a.createElement("button",null,"Add post")))}),Et=de(10);var gt=ft,ht=Object(ce.b)(function(e){return{posts:e.profilePage.postData,newPostText:e.profilePage.newPostText}},function(e){return{addPost:function(t){e(function(e){return{type:"ADD_POST",values:e}}(t))}}})(gt),vt=function(e){return V.a.createElement("div",null,V.a.createElement(ot,e),V.a.createElement(ht,null))},bt=function(e){Object(Z.a)(n,e);var t=Object(X.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(W.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return V.a.createElement("div",null,V.a.createElement(vt,Object.assign({},this.props,{profile:this.props.profile,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})))}}]),n}(V.a.Component),Ot=Object(a.d)(Object(ce.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.id}},{getUserProfile:P,getStatus:function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:a=t.sent,n(w(a.data));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d(e);case 3:0===t.sent.data.resultCode&&n(w(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"SAVE_PHOTO_SUCCESS",photos:a.data.data.photos});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(u.a)(l.a.mark(function t(n,a){var r,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,g(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}n(P(r)),t.next=10;break;case 8:return n(Object(j.a)("edit-profile",{_error:o.data.messages[0]})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 10:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}}),oe.a)(bt),jt=n(88),St=n.n(jt),wt=function(e){return V.a.createElement("header",{className:St.a.header},V.a.createElement("img",{src:"https://pngimg.com/uploads/tesla_logo/tesla_logo_PNG16.png"}),V.a.createElement("div",{className:St.a.loginBlock},e.isAuth?V.a.createElement("div",null,"\u041b\u043e\u0433\u0438\u043d: ",e.login," - ",V.a.createElement("button",{onClick:e.logout},"Log out"),V.a.createElement("div",null,"ID: ",e.id)):V.a.createElement(te.a,{to:"/login"},"Login")))},Pt=function(e){Object(Z.a)(n,e);var t=Object(X.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(W.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return V.a.createElement(wt,this.props)}}]),n}(V.a.Component),Ct=Object(ce.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,id:e.auth.id}},{getAuthUserData:R,logout:x})(Pt),Ut=Object(pe.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return V.a.createElement("form",{onSubmit:t},Se("Email",[fe],"email",je),Se("Password",[fe],"password",je,{type:"password"}),Se(null,null,"rememberMe",je,{type:"checkbox"},"Remember me"),a&&V.a.createElement("img",{src:a}),a&&Se("Antibot symbols",[fe],"captcha",je,{}),n&&V.a.createElement("div",{className:he.a.formSummaryError},n),V.a.createElement("div",null,V.a.createElement("button",null,"Login")))}),yt=Object(ce.b)(function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}},{login:function(e,t,n,a){return function(){var r=Object(u.a)(l.a.mark(function r(o){var c,i;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v(e,t,n,a);case 2:0===(c=r.sent).data.resultCode?o(R()):(10===c.data.resultCode&&o(_()),i=c.data.messages.length>0?c.data.messages[0]:"Some error",o(Object(j.a)("login",{_error:i})));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},logout:x})(function(e){var t=e.login,n=e.isAuth,a=e.captchaUrl;return n?V.a.createElement(Ue.a,{to:"/profile"}):V.a.createElement("div",null,V.a.createElement("h1",null,"Login"),V.a.createElement(Ut,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)},captchaUrl:a}))}),At=function(e){Object(Z.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(q.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e){console.log(e)},e}return Object(W.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?V.a.createElement("div",{className:"app-wrapper"},V.a.createElement(Ct,null),V.a.createElement(ne,null),V.a.createElement("div",{className:"app-wrapper-content"},V.a.createElement(ae.a,null,V.a.createElement(re.a,{path:"/dialogs",render:function(){return V.a.createElement(Ae,null)}}),V.a.createElement(re.a,{path:"/profile/:userId?",render:function(){return V.a.createElement(Ot,null)}}),V.a.createElement(re.a,{path:"/users",render:function(){return V.a.createElement(et,null)}}),V.a.createElement(re.a,{path:"/login",render:function(){return V.a.createElement(yt,null)}}),V.a.createElement(re.a,{path:"*",render:function(){return V.a.createElement("h1",{style:{display:"flex",justifyContent:"center"}},"404 PAGE NOT FOUND")}})))):V.a.createElement(Ge,null)}}]),n}(V.a.Component),kt=Object(a.d)(oe.a,Object(ce.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(R());case 2:t({type:"INITIALIZED_SUCCESS"});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}))(At),It=n(292);K.a.render(V.a.createElement(It.a,null,V.a.createElement(ce.a,{store:Y},V.a.createElement(kt,null))),document.getElementById("root"))},37:function(e,t,n){e.exports={error:"FormsControls_error__1Ey0h",formSummaryError:"FormsControls_formSummaryError__cvdV4"}},69:function(e,t,n){e.exports={paginator:"Paginator_paginator__1qHJB",pageNumber:"Paginator_pageNumber__1_S9l",selectedPage:"Paginator_selectedPage__3-jn7"}},70:function(e,t,n){e.exports={imageBack:"ProfileInfo_imageBack__3pZFB",description:"ProfileInfo_description__3E5Wj",contact:"ProfileInfo_contact__1nkcc"}},88:function(e,t,n){e.exports={header:"Header_header__TkvHx",loginBlock:"Header_loginBlock__2iGVg"}}},[[159,1,2]]]);
//# sourceMappingURL=main.78d9d7ff.chunk.js.map